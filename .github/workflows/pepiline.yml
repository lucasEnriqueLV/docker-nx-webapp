name: Pipeline CI/CD - push para o origin

on:
  push:
    branches:
      'master'

jobs:
  setup:
    name: Testando aplicação e criando artefato
    runs-on: ubuntu-latest   
    steps:
    - name: Checando repositorio
      uses: actions/checkout@v3
      with:
        fetch-depth: 0
    - name: Instalando pnpm
      uses: pnpm/action-setup@v2.2.1
      with:
        version: "7.x"
    - name: Instalando NodeJS
      uses: actions/setup-node@v3
      with:
        node-version: "16.x"
      
    - name: Instalando Dependencias
      run: pnpm install
      
    - name: Buildando projeto
      run: pnpm run build:simple-app
      
    - name: Publicando o projeto
      run: pnpm deploy 
      
        
    
        
  
